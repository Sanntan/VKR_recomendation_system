# Админ-панель VKR

Базовая админ-панель создана на Vue 3 и работает поверх уже существующего внутреннего API FastAPI.

## Возможности

- проверка статуса API (`/health`);
- поиск студента по `participant_id` и мгновенный вывод карточки;
- просмотр и постраничная загрузка всех студентов (`/students?limit=&offset=`) с подсветкой выбранной записи;
- просмотр актуальных мероприятий с лимитом (`/events/active`);
- обзор рекомендаций по выбранному студенту, включая загрузку данных мероприятий (`/recommendations/by-student/{student_id}` + `/events/bulk`);
- пересчёт рекомендаций для выбранного студента с параметром минимального score (`/recommendations/by-student/{student_id}/recalculate`).

## Как запустить локально

1. Убедитесь, что backend FastAPI запущен локально на `http://localhost:8000`.
2. Перейдите в директорию `admin-panel` и установите зависимости:
   ```bash
   npm install
   ```
3. Запустите dev-сервер Vite:
   ```bash
   npm run dev
   ```
   По умолчанию панель будет доступна на `http://localhost:5173`.

## Переменные окружения

- `VITE_API_BASE_URL` — опционально. Укажите явный базовый адрес API (например, при работе через туннель или прокси). По умолчанию используется относительный путь, а Vite проксирует запросы на `http://localhost:8000`.
- `VITE_API_TARGET` — опционально. Управляет адресом, куда dev-сервер проксирует запросы при разработке. Значение по умолчанию — `http://localhost:8000`.

## Структура проекта

- `admin-panel/src/App.vue` — корневой layout и навигация по разделам.
- `admin-panel/src/components/StatusIndicator.vue` — статус соединения.
- `admin-panel/src/components/StudentsView.vue` — поиск по `participant_id` и список всех студентов.
- `admin-panel/src/components/EventsView.vue` — список мероприятий.
- `admin-panel/src/components/RecommendationsView.vue` — обзор и пересчёт рекомендаций для выбранного студента.
- `admin-panel/src/api/client.js` — обёртки над REST API с помощью axios.

## Дальнейшие шаги

- добавить авторизацию и защиту административного интерфейса;
- расширить API для работы со списками бота-пользователей;
- интегрировать графики и агрегированные метрики.

